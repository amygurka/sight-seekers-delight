!function e(t,a,i){function r(o,n){if(!a[o]){if(!t[o]){var c="function"==typeof require&&require;if(!n&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var m=a[o]={exports:{}};t[o][0].call(m.exports,function(e){var a=t[o][1][e];return r(a?a:e)},m,m.exports,e,t,a,i)}return a[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e){var t=(e("./jquery/query"),e("./jquery/find_replace"),e("./jquery/message_close"),e("./servmask/report"),e("./servmask/maintenance"),e("./servmask/feedback"),e("./servmask/export_controller"));jQuery(document).ready(function(e){"use strict";var a=this,i=new t("file");e(document).on("click","#ai1wm-export-file",function(e){e.preventDefault(),a.storage=i.storage(),a.archive=i.filename(),i.export({method:"start",storage:a.storage,archive:a.archive})}),e(document).on("click","#ai1wm-export-stop",function(e){e.preventDefault(),i.stop()}),e(document).on("click","#ai1wm-export-close",function(e){e.preventDefault(),i.close()}),e(document).on("click",".ai1wm-accordion > .ai1wm-title",function(){e(this).parent().toggleClass("ai1wm-active")}),e(document).on("click",".ai1wm-expandable > p:first, .ai1wm-expandable > h4:first, .ai1wm-expandable > div.ai1wm-button-main",function(){e(this).parent().toggleClass("ai1wm-open")}),e("#ai1wm-add-new-replace-button").ai1wm_find_replace(),e(".ai1wm-message-close-button").ai1wm_message_close(),e(".ai1wm-collapsable").ai1wm_query()})},{"./jquery/find_replace":2,"./jquery/message_close":3,"./jquery/query":4,"./servmask/export_controller":5,"./servmask/feedback":7,"./servmask/maintenance":8,"./servmask/report":9}],2:[function(){!function(e){e.fn.ai1wm_find_replace=function(){return e(this).click(function(t){t.preventDefault();var a=e("#ai1wm-queries > li:first").clone();a.find("input").val(""),a.find(".ai1wm-query-find-text").html("&lt;text&gt;"),a.find(".ai1wm-query-replace-text").html("&lt;another-text&gt;"),e("#ai1wm-queries > li").removeClass("ai1wm-open"),e(a).addClass("ai1wm-open"),e("#ai1wm-queries").append(a),e(a).ai1wm_query(),e(a).find("p:first").on("click",function(){e(this).parent().toggleClass("ai1wm-open")})}),this}}(jQuery)},{}],3:[function(){!function(e){e.fn.ai1wm_message_close=function(){return e(this).click(function(t){var a=ai1wm_message.ajax.url,i=e(this),r=i.attr("data-key");e.ajax({type:"POST",url:a,data:{key:r},success:function(e){var t=e.errors;0===t.length&&i.closest(".ai1wm-message").remove()},dataType:"json"}),t.preventDefault()}),this}}(jQuery)},{}],4:[function(){!function(e){e.fn.ai1wm_query=function(){var t=e(this).find("input.ai1wm-query-find-input"),a=e(this).find("input.ai1wm-query-replace-input"),i=e(this).find("small.ai1wm-query-find-text"),r=e(this).find("small.ai1wm-query-replace-text");return t.on("change paste input keypress keydown keyup",function(){var t=e(this).val().length>0?e(this).val():"<text>";i.text(t)}),a.on("change paste input keypress keydown keyup",function(){var t=e(this).val().length>0?e(this).val():"<another-text>";r.text(t)}),this}}(jQuery)},{}],5:[function(e,t){(function(a){var i=e("./export_modal"),r=e("./util"),s=jQuery,o=function(e){this.modal=new i,this.retry=3,this.config=s.extend({},{provider:e,secret_key:ai1wm_export.secret_key})};o.prototype.export=function(e){void 0!==typeof e.storage&&s.extend(this.config,{storage:e.storage}),void 0!==typeof e.archive&&s.extend(this.config,{archive:e.archive}),this.request(e)},o.prototype.request=function(e){var t=this,e=s.extend(e,this.config);this.xhr=s.ajax({url:ai1wm_export.ajax.url,data:e,cache:!1,method:"GET",dataType:"json"}).done(function(e){e&&t.request(e),t.status(e)}).fail(function(){if(t.attemptToRetry(function(){t.request(e)}),0===t.retry){var a="All in One WP Migration failed reaching your webserver. ";return a+="Would you like to retry?",confirm(a)&&(t.retry=3,t.request(e)),void 0}t.retry--,t.request(e)})},o.prototype.attemptToRetry=function(e,t){t=t||"All in One WP Migration failed reaching your webserver. Would you like to retry?",this.retry>0?(this.retry--,e()):confirm(t)&&(this.retry=3,e())},o.prototype.status=function(){var e=this;s.ajax({url:ai1wm_export.status.url+"/status.php",cache:!1,method:"GET",dataType:"json"}).done(function(t){e.display(t)}).fail(function(){e.attemptToRetry(function(){e.status()})})},o.prototype.stop=function(){var e=this;this.xhr.abort();var t=s.extend({method:"clean"},this.config);s.ajax({url:ai1wm_export.ajax.url,data:t,cache:!1,async:!1,method:"GET"}).done(function(){e.modal.hide()}).fail(function(){e.attemptToRetry(function(){e.stop(t)})})},o.prototype.close=function(){this.modal.hide()},o.prototype.storage=function(){return r.random(12)},o.prototype.filename=function(){var e=null,t=s.extend({method:"filename"},this.config);return s.ajax({url:ai1wm_export.ajax.url,data:t,cache:!1,async:!1,method:"GET"}).done(function(t){e=t}),e},o.prototype.display=function(e){var t=this;switch(t.modal.reset(),t.modal.show(),e.type){case"error":t.modal._title.html(e.title),t.modal._title.addClass("ai1wm-title-red"),t.modal._title.show(),t.modal._message.html(e.message),t.modal._message.css("text-align","left"),t.modal._message.show(),t.modal._close.show();break;case"download":t.modal._message.html(e.message),t.modal._message.show(),t.modal._close.show();break;case"finish":t.modal._title.html(e.title),t.modal._title.addClass("ai1wm-title-green"),t.modal._title.show(),t.modal._message.html(e.message),t.modal._message.show(),t.modal._close.show();break;default:t.modal._loader.show(),t.modal._message.html(e.message),t.modal._message.show(),t.modal._stop.show()}},t.exports=o,a.window.Ai1wmExportController=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./export_modal":6,"./util":10}],6:[function(e,t){var a=jQuery,i=function(){this._overlay=a('<div class="ai1wm-overlay"></div>'),this._modal=a('<div class="ai1wm-modal-container"></div>'),this._section=a("<section></section>"),this._header=a("<h1></h1>"),this._message=a("<p></p>").hide(),this._action=a("<div></div>"),this._title=a("<span></span>").hide(),this._loader=a('<span class="ai1wm-loader"></span>').hide(),this._warning=a('<span class="ai1wm-icon-notification"></span>').hide(),this._progressBar=a('<span class="ai1wm-progress-bar"></span>').hide(),this._progressBarMeter=a('<span class="ai1wm-progress-bar-meter"></span>'),this._progressBarPercent=a('<span class="ai1wm-progress-bar-percent">0%</span>'),this._stop=a('<button id="ai1wm-export-stop" class="ai1wm-button-red"><i class="ai1wm-icon-notification"></i> Stop export</button>').hide(),this._close=a('<button id="ai1wm-export-close" class="ai1wm-button-red">Close</button>').hide(),this._confirm=a('<button id="ai1wm-export-confirm" class="ai1wm-button-green">Continue</button>').hide(),this._progressBar.append(this._progressBarMeter).append(this._progressBarPercent),this._action.append(this._stop).append(this._close).append(this._confirm),this._header.append(this._title).append(this._loader).append(this._warning).append(this._progressBar),this._section.append(this._header).append(this._message),this._modal.append(this._section).append(this._action),a("body").append(this._overlay).append(this._modal)};i.prototype.show=function(){return this._overlay.show(),this._modal.show(),this},i.prototype.hide=function(){return this._modal.hide(),this._overlay.hide(),this},i.prototype.remove=function(){return this.hide(),this._modal.remove(),this._overlay.remove(),this},i.prototype.reset=function(){return this._title.hide(),this._loader.hide(),this._warning.hide(),this._progressBar.hide(),this._message.hide(),this._stop.hide(),this._close.hide(),this._confirm.hide(),this},t.exports=i},{}],7:[function(){jQuery(document).ready(function(e){"use strict";e(".ai1wm-feedback-type").attr("checked",!1),e("#ai1wm-feedback-type-link-1").click(function(t){var a=e("#ai1wm-feedback-type-1");a.is(":checked")?(a.attr("checked",!1),t.preventDefault()):a.attr("checked",!0)}),e("#ai1wm-feedback-type-2").click(function(){e("#ai1wm-feedback-type-1, #ai1wm-feedback-type-3").closest("li").hide(),e(".ai1wm-feedback-form").find(".ai1wm-feedback-message").attr("placeholder","Leave plugin developers any feedback here"),e(".ai1wm-feedback-form").fadeIn()}),e("#ai1wm-feedback-type-3").click(function(){e("#ai1wm-feedback-type-1, #ai1wm-feedback-type-2").closest("li").hide(),e(".ai1wm-feedback-form").find(".ai1wm-feedback-message").attr("placeholder","How may we help you?"),e(".ai1wm-feedback-form").fadeIn()}),e("#ai1wm-feedback-cancel").click(function(t){e(".ai1wm-feedback-form").fadeOut(function(){e(".ai1wm-feedback-type").attr("checked",!1).closest("li").show()}),t.preventDefault()}),e("#ai1wm-feedback-submit").click(function(){var t=ai1wm_feedback.ajax.url,a=e(".ai1wm-feedback-type:checked").val(),i=e(".ai1wm-feedback-email").val(),r=e(".ai1wm-feedback-message").val(),s=e(".ai1wm-feedback-terms").is(":checked");e.ajax({type:"POST",url:t,data:{type:a,email:i,message:r,terms:+s},success:function(t){var a=t.errors;if(a.length>0){e(".ai1wm-feedback .ai1wm-message").remove();var i=e("<div />").addClass("ai1wm-message ai1wm-error-message");e.each(a,function(e,t){i.append("<p>"+t+"</p>")}),e(".ai1wm-feedback").prepend(i)}else{var r=e("<div />").addClass("ai1wm-message ai1wm-success-message").append("<p>Thanks for submitting your feedback!</p>");e(".ai1wm-feedback").html(r)}},dataType:"json",async:!1})})})},{}],8:[function(){jQuery(document).ready(function(e){"use strict";e("#ai1wm-maintenance-off").click(function(t){var a=ai1wm_maintenance.ajax.url,i=e(this);e.ajax({type:"POST",url:a,success:function(){i.closest(".ai1wm-message-warning").remove()}}),t.preventDefault()})})},{}],9:[function(){jQuery(document).ready(function(e){"use strict";e("#ai1wm-report-problem-button").click(function(t){e(this).next(".ai1wm-report-problem-dialog").toggleClass("ai1wm-report-active"),t.preventDefault()}),e("#ai1wm-report-cancel").click(function(t){e(this).closest(".ai1wm-report-problem-dialog").removeClass("ai1wm-report-active"),t.preventDefault()}),e("#ai1wm-report-submit").click(function(){var t=ai1wm_report.ajax.url,a=e(".ai1wm-report-email").val(),i=e(".ai1wm-report-message").val(),r=e(".ai1wm-report-terms").is(":checked");e.ajax({type:"POST",url:t,data:{email:a,message:i,terms:+r},success:function(t){var a=t.errors;if(a.length>0){e(".ai1wm-report-problem-dialog .ai1wm-message").remove();var i=e("<div />").addClass("ai1wm-message ai1wm-error-message");e.each(a,function(e,t){i.append("<p>"+t+"</p>")}),e(".ai1wm-report-problem-dialog").prepend(i)}else{var r=e("<div />").addClass("ai1wm-message ai1wm-success-message").append("<p>Thanks for submitting your request!</p>");e(".ai1wm-report-problem-dialog").html(r),setTimeout(function(){e(".ai1wm-report-problem-dialog").removeClass("ai1wm-report-active")},2e3)}},dataType:"json",async:!1})})})},{}],10:[function(e,t){var a=function(){};a.random=function(e){for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789",i=0;e>i;i++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},a.getURLParameter=function(e){for(var t=window.location.search.substring(1),a=t.split("&"),i=0;i<a.length;i++){var r=a[i].split("=");if(r[0]==e)return r[1]}},t.exports=a},{}]},{},[1]);